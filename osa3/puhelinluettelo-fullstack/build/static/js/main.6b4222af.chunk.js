(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),u=t.n(a),l=t(13),r=t.n(l),o=t(3),c=t(2),i=t.n(c),s="http://localhost:3001/api/persons",m=function(){return i.a.get(s)},d=function(e){return i.a.post(s,e)},f=function(e){return i.a.delete("".concat(s,"/").concat(e))},p=(t(37),function(e){return u.a.createElement("form",{onSubmit:e.addPerson},u.a.createElement("div",null,"nimi: ",u.a.createElement("input",{value:e.newName,onChange:e.handle})),u.a.createElement("div",null,"puhelinnumero: ",u.a.createElement("input",{value:e.newNumber,onChange:e.handle2})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))}),b=function(e){var n=e.persons,t=e.setPersons;return u.a.createElement("ul",null,n.map(function(e){return u.a.createElement(E,{persons:n,key:e.id,name:e.name,number:e.number,setPersons:t,ident:e.id})}))},E=function(e){var n=e.persons,t=e.setPersons;return u.a.createElement("li",null,e.name," ",e.number,u.a.createElement("form",{onSubmit:function(a){console.log("delete",e.ident),window.confirm("Haluatko varmasti poistaa taman henkilon?")&&f(e.ident).then(function(a){t(n.filter(function(n){return n.id!==e.ident}))})}},u.a.createElement("button",{type:"submit"},"poista")))},h=function(e){var n=e.message;return null===n?null:u.a.createElement("div",{className:"added"},n)},v=function(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],l=n[1],r=Object(a.useState)(""),c=Object(o.a)(r,2),i=c[0],s=c[1],f=Object(a.useState)("050-"),E=Object(o.a)(f,2),v=E[0],w=E[1],g=Object(a.useState)(null),j=Object(o.a)(g,2),O=j[0],P=j[1];Object(a.useEffect)(function(){m().then(function(e){l(e.data)})},[]);return u.a.createElement("div",null,u.a.createElement("h2",null,"Puhelinluettelo"),u.a.createElement(h,{message:O}),u.a.createElement(p,{addPerson:function(e){e.preventDefault();var n=t[t.length-1].id+1,a={name:i,id:n,number:v},u=t.map(function(e){return e.name});d(a).then(function(e){u.includes(i)?window.alert(i+" on jo luettelossa"):l(t.concat(e.data)),s(""),w(0),console.log(e)}),P("Henkilo "+i+" lisatty puhelinluetteloon"),setTimeout(function(){P(null)},5e3)},handle:function(e){s(e.target.value)},handle2:function(e){w(e.target.value)},newName:i,newNumber:v}),u.a.createElement("h2",null,"Numerot"),u.a.createElement(b,{persons:t,setPerson:l}))};r.a.render(u.a.createElement(v,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.6b4222af.chunk.js.map
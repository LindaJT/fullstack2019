(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),u=t.n(a),r=t(13),l=t.n(r),o=t(3),c=t(2),i=t.n(c),s=function(){return i.a.get("/api/persons")},m=function(e){return i.a.post("/api/persons",e)},d=function(e){return i.a.delete("".concat("/api/persons","/").concat(e))},f=(t(37),function(e){return u.a.createElement("form",{onSubmit:e.addPerson},u.a.createElement("div",null,"nimi: ",u.a.createElement("input",{value:e.newName,onChange:e.handle})),u.a.createElement("div",null,"puhelinnumero: ",u.a.createElement("input",{value:e.newNumber,onChange:e.handle2})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))}),p=function(e){var n=e.persons,t=e.setPersons;return u.a.createElement("ul",null,n.map(function(e){return u.a.createElement(b,{persons:n,key:e.id,name:e.name,number:e.number,setPersons:t,ident:e.id})}))},b=function(e){var n=e.persons,t=e.setPersons;return u.a.createElement("li",null,e.name," ",e.number,u.a.createElement("form",{onSubmit:function(a){console.log("delete",e.ident),window.confirm("Haluatko varmasti poistaa taman henkilon?")&&d(e.ident).then(function(a){t(n.filter(function(n){return n.id!==e.ident}))})}},u.a.createElement("button",{type:"submit"},"poista")))},E=function(e){var n=e.message;return null===n?null:u.a.createElement("div",{className:"added"},n)},h=function(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],r=n[1],l=Object(a.useState)(""),c=Object(o.a)(l,2),i=c[0],d=c[1],b=Object(a.useState)("050-"),h=Object(o.a)(b,2),v=h[0],w=h[1],g=Object(a.useState)(null),j=Object(o.a)(g,2),O=j[0],P=j[1];Object(a.useEffect)(function(){s().then(function(e){r(e.data)})},[]);return u.a.createElement("div",null,u.a.createElement("h2",null,"Puhelinluettelo"),u.a.createElement(E,{message:O}),u.a.createElement(f,{addPerson:function(e){e.preventDefault();var n=t[t.length-1].id+1,a={name:i,id:n,number:v},u=t.map(function(e){return e.name});m(a).then(function(e){u.includes(i)?window.alert(i+" on jo luettelossa"):r(t.concat(e.data)),d(""),w(0),console.log(e)}),P("Henkilo "+i+" lisatty puhelinluetteloon"),setTimeout(function(){P(null)},5e3)},handle:function(e){d(e.target.value)},handle2:function(e){w(e.target.value)},newName:i,newNumber:v}),u.a.createElement("h2",null,"Numerot"),u.a.createElement(p,{persons:t,setPerson:r}))};l.a.render(u.a.createElement(h,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.3c57d1d4.chunk.js.map